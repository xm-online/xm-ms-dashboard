management:
    endpoints:
        web:
            base-path: /management
            exposure:
                include:
                    - configprops
                    - env
                    - health
                    - info
                    - jhimetrics
                    - jhiopenapigroups
                    - logfile
                    - loggers
                    - prometheus
                    - threaddump
                    - caches
                    - metrics
                    - liquibase
    endpoint:
        health:
            show-details: when_authorized
            roles: 'SUPER-ADMIN'
            probes:
                enabled: true
            group:
                liveness:
                    include: livenessState
                readiness:
                    include: readinessState,db
        jhimetrics:
            enabled: true
    info:
        git:
            mode: full
        env:
            enabled: true
    health:
        mail:
            enabled: false # When using the MailService, configure an SMTP server and set this to true
    observations:
        key-values:
            application: ${spring.application.name}
    prometheus:
        metrics:
            export:
                enabled: true
                step: 60
    metrics:
        enable:
            http: true
            jvm: true
            logback: true
            process: true
            system: true
        distribution:
            percentiles-histogram:
                all: true
            percentiles:
                all: 0, 0.5, 0.75, 0.95, 0.99, 1.0
        tags:
            application: ${spring.application.name}

spring:
    application:
        name: dashboard
    main:
        allow-bean-definition-overriding: true
        web-application-type: servlet
    cloud:
        inetutils:
            preferredNetworks:
                - 192.168.
                - 10.
        consul:
            enabled: true
            discovery:
                healthCheckPath: /management/health
                instanceId: dashboard:${spring.application.instance-id:${random.value}}
                service-name: dashboard
            config:
                watch:
                    enabled: false
    jackson:
        serialization.write_dates_as_timestamps: false
        default-property-inclusion: non_empty
        serialization.write_empty_json_arrays: false
    jpa:
        open-in-view: false
        hibernate:
            ddl-auto: none
            naming:
                physical-strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
                implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy
        properties:
            hibernate:
                integration:
                    envers:
                        enabled: ${application.storage.audit-support:false}
            org:
                hibernate:
                    envers:
                        revision_field_name: revision
                        revision_type_field_name: OPERATION
    liquibase:
        default-schema: XM
        change-log: classpath:config/liquibase/master.xml
    messages:
        basename: i18n/messages
    thymeleaf:
        mode: HTML
    kafka:
        producer:
            key-serializer: org.apache.kafka.common.serialization.StringSerializer
            value-serializer: org.apache.kafka.common.serialization.StringSerializer

server:
    servlet:
        session:
            cookie:
                http-only: true

# Properties to be exposed on the /info management endpoint
info:
    # Comma separated list of profiles that will trigger the ribbon to show
    display-ribbon-on-profiles: "dev"

# ===================================================================
# JHipster specific properties
#
# Full reference is available at: https://www.jhipster.tech/common-application-properties/
# ===================================================================

jhipster:
    async:
        core-pool-size: 2
        max-pool-size: 50
        queue-capacity: 10000
    api-docs:
        default-include-pattern: /api/.*
        title: dashboard API
        description: dashboard API documentation
        version: 0.0.1
        terms-of-service-url:
        contact-name:
        contact-url:
        contact-email:
        license:
        license-url:

# ===================================================================
# Application specific properties
# Add your own application properties here, see the ApplicationProperties class
# to have type-safe configuration, like in the JHipsterProperties above
#
# More documentation is available at:
# https://www.jhipster.tech/common-application-properties/
# ===================================================================

xm-config:
    enabled: true
    xm-config-url: http://config
    kafka-config-topic: config_topic

application:
    timeline-ignored-http-methods:
    tenant-ignored-path-list: /v2/api-docs, /api/profile-info, /swagger-resources/configuration/ui, /management/health
    timelines-enabled: true
    kafka-enabled: true
    kafka-system-queue: system_queue
    db-schema-suffix:
    retry:
        max-attempts: 3
        delay: 1000 #in milliseconds
        multiplier: 2

    specification-name: dashboardspec.yml
    specification-path-pattern: /config/tenants/{tenantName}/dashboard/${application.specification-name}
    storage:
        store-configuration-enabled: false
        audit-support: false
        ms-config:
            tenant-dashboards-folder-path-pattern: ${application.storage.ms-config.tenant-dashboards-folder-path}*.yml
            tenant-dashboards-folder-path: /config/tenants/{tenantName}/dashboard/dashboards/
            tenant-dashboard-properties-id-path-pattern: /config/tenants/{tenantName}/dashboard/${application.storage.ms-config.tenant-dashboard-properties-id-name}
            tenant-dashboard-properties-id-name: dashboards-id.yml
            id-reserved-quantity: 1000
gracefulShutdown:
    enabled: false
    shutdownDelay:
